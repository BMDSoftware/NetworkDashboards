<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Development Instructions | Data Network Dashboards</title>
  <meta name="description" content="This is the manual for setting up a clean installation of the dashboards used in the EHDEN project." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Development Instructions | Data Network Dashboards" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the manual for setting up a clean installation of the dashboards used in the EHDEN project." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Development Instructions | Data Network Dashboards" />
  
  <meta name="twitter:description" content="This is the manual for setting up a clean installation of the dashboards used in the EHDEN project." />
  

<meta name="author" content="This document is currently under construction" />


<meta name="date" content="2022-07-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="customizations.html"/>
<link rel="next" href="code-documentation.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Network Dashboards</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#considerations"><i class="fa fa-check"></i>Considerations</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledges"><i class="fa fa-check"></i>Acknowledges</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>3</b> Installation</a>
<ul>
<li class="chapter" data-level="" data-path="installation.html"><a href="installation.html#first-steps"><i class="fa fa-check"></i>First Steps</a></li>
<li class="chapter" data-level="" data-path="installation.html"><a href="installation.html#dashboard-viewer-setup"><i class="fa fa-check"></i>Dashboard Viewer setup</a></li>
<li class="chapter" data-level="" data-path="installation.html"><a href="installation.html#insert-concepts"><i class="fa fa-check"></i>Insert Concepts</a></li>
<li class="chapter" data-level="" data-path="installation.html"><a href="installation.html#superset-setup"><i class="fa fa-check"></i>Superset setup</a></li>
<li class="chapter" data-level="" data-path="installation.html"><a href="installation.html#dummy-data"><i class="fa fa-check"></i>Dummy data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="processes.html"><a href="processes.html"><i class="fa fa-check"></i><b>4</b> Processes</a>
<ul>
<li class="chapter" data-level="" data-path="processes.html"><a href="processes.html#data-sources"><i class="fa fa-check"></i>Data Sources</a></li>
<li class="chapter" data-level="" data-path="processes.html"><a href="processes.html#catalogue-results-files"><i class="fa fa-check"></i>Catalogue Results Files</a></li>
<li class="chapter" data-level="" data-path="processes.html"><a href="processes.html#materialized-views"><i class="fa fa-check"></i>Materialized Views</a></li>
<li class="chapter" data-level="" data-path="processes.html"><a href="processes.html#tabs-view-deprecated"><i class="fa fa-check"></i>Tabs View [Deprecated]</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="backups.html"><a href="backups.html"><i class="fa fa-check"></i><b>5</b> Backups</a>
<ul>
<li class="chapter" data-level="" data-path="backups.html"><a href="backups.html#restore"><i class="fa fa-check"></i>Restore</a></li>
<li class="chapter" data-level="" data-path="backups.html"><a href="backups.html#useful-stuff"><i class="fa fa-check"></i>Useful stuff</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="customizations.html"><a href="customizations.html"><i class="fa fa-check"></i><b>6</b> Customizations</a>
<ul>
<li class="chapter" data-level="" data-path="customizations.html"><a href="customizations.html#platform-logo"><i class="fa fa-check"></i>Platform Logo</a></li>
<li class="chapter" data-level="" data-path="customizations.html"><a href="customizations.html#platform-title"><i class="fa fa-check"></i>Platform Title</a></li>
<li class="chapter" data-level="" data-path="customizations.html"><a href="customizations.html#uploader-page-texts"><i class="fa fa-check"></i>Uploader Page Texts</a></li>
<li class="chapter" data-level="" data-path="customizations.html"><a href="customizations.html#allow-draft-status-updates"><i class="fa fa-check"></i>Allow Draft Status Updates</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="development-instructions.html"><a href="development-instructions.html"><i class="fa fa-check"></i><b>7</b> Development Instructions</a>
<ul>
<li class="chapter" data-level="" data-path="development-instructions.html"><a href="development-instructions.html#repository-structure-description"><i class="fa fa-check"></i>Repository Structure Description</a></li>
<li class="chapter" data-level="" data-path="development-instructions.html"><a href="development-instructions.html#superset"><i class="fa fa-check"></i>Superset</a></li>
<li class="chapter" data-level="" data-path="development-instructions.html"><a href="development-instructions.html#github-actions"><i class="fa fa-check"></i>Github Actions</a></li>
<li class="chapter" data-level="" data-path="development-instructions.html"><a href="development-instructions.html#tests"><i class="fa fa-check"></i>Tests</a></li>
<li class="chapter" data-level="" data-path="development-instructions.html"><a href="development-instructions.html#python-requirements"><i class="fa fa-check"></i>Python Requirements</a></li>
<li class="chapter" data-level="" data-path="development-instructions.html"><a href="development-instructions.html#documentation"><i class="fa fa-check"></i>Documentation</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="code-documentation.html"><a href="code-documentation.html"><i class="fa fa-check"></i><b>8</b> Code Documentation</a>
<ul>
<li class="chapter" data-level="" data-path="code-documentation.html"><a href="code-documentation.html#apps"><i class="fa fa-check"></i>Apps</a></li>
<li class="chapter" data-level="" data-path="code-documentation.html"><a href="code-documentation.html#javascript-packages"><i class="fa fa-check"></i>JavaScript Packages</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="dashboards.html"><a href="dashboards.html"><i class="fa fa-check"></i><b>9</b> Dashboards</a>
<ul>
<li class="chapter" data-level="9.1" data-path="PerDatabaseDashboard.html"><a href="PerDatabaseDashboard.html"><i class="fa fa-check"></i><b>9.1</b> Network Dashboard</a>
<ul>
<li class="chapter" data-level="" data-path="PerDatabaseDashboard.html"><a href="PerDatabaseDashboard.html#label-colors"><i class="fa fa-check"></i>Label Colors</a></li>
<li class="chapter" data-level="" data-path="PerDatabaseDashboard.html"><a href="PerDatabaseDashboard.html#css"><i class="fa fa-check"></i>CSS</a></li>
<li class="chapter" data-level="" data-path="PerDatabaseDashboard.html"><a href="PerDatabaseDashboard.html#filters"><i class="fa fa-check"></i>Filters</a></li>
<li class="chapter" data-level="" data-path="PerDatabaseDashboard.html"><a href="PerDatabaseDashboard.html#overview-tab"><i class="fa fa-check"></i>Overview Tab</a></li>
<li class="chapter" data-level="" data-path="PerDatabaseDashboard.html"><a href="PerDatabaseDashboard.html#demographics-tab"><i class="fa fa-check"></i>Demographics Tab</a></li>
<li class="chapter" data-level="" data-path="PerDatabaseDashboard.html"><a href="PerDatabaseDashboard.html#data-domains-tab"><i class="fa fa-check"></i>Data Domains Tab</a></li>
<li class="chapter" data-level="" data-path="PerDatabaseDashboard.html"><a href="PerDatabaseDashboard.html#data-provenance-tab"><i class="fa fa-check"></i>Data Provenance Tab</a></li>
<li class="chapter" data-level="" data-path="PerDatabaseDashboard.html"><a href="PerDatabaseDashboard.html#observation-period-tab"><i class="fa fa-check"></i>Observation Period Tab</a></li>
<li class="chapter" data-level="" data-path="PerDatabaseDashboard.html"><a href="PerDatabaseDashboard.html#visit-tab"><i class="fa fa-check"></i>Visit Tab</a></li>
<li class="chapter" data-level="" data-path="PerDatabaseDashboard.html"><a href="PerDatabaseDashboard.html#concept-browser-tab"><i class="fa fa-check"></i>Concept Browser Tab</a></li>
<li class="chapter" data-level="" data-path="PerDatabaseDashboard.html"><a href="PerDatabaseDashboard.html#about-tab"><i class="fa fa-check"></i>About Tab</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="database-level-dashboard.html"><a href="database-level-dashboard.html"><i class="fa fa-check"></i><b>9.2</b> Database-Level Dashboard</a>
<ul>
<li class="chapter" data-level="" data-path="database-level-dashboard.html"><a href="database-level-dashboard.html#label-colors-1"><i class="fa fa-check"></i>Label Colors</a></li>
<li class="chapter" data-level="" data-path="database-level-dashboard.html"><a href="database-level-dashboard.html#css-1"><i class="fa fa-check"></i>CSS</a></li>
<li class="chapter" data-level="" data-path="database-level-dashboard.html"><a href="database-level-dashboard.html#data-source-filter---hidden"><i class="fa fa-check"></i>Data Source Filter - hidden</a></li>
<li class="chapter" data-level="" data-path="database-level-dashboard.html"><a href="database-level-dashboard.html#demographics-tab-1"><i class="fa fa-check"></i>Demographics Tab</a></li>
<li class="chapter" data-level="" data-path="database-level-dashboard.html"><a href="database-level-dashboard.html#data-domains-tab-1"><i class="fa fa-check"></i>Data Domains Tab</a></li>
<li class="chapter" data-level="" data-path="database-level-dashboard.html"><a href="database-level-dashboard.html#data-provenance-tab-1"><i class="fa fa-check"></i>Data Provenance Tab</a></li>
<li class="chapter" data-level="" data-path="database-level-dashboard.html"><a href="database-level-dashboard.html#observation-period-tab-1"><i class="fa fa-check"></i>Observation Period Tab</a></li>
<li class="chapter" data-level="" data-path="database-level-dashboard.html"><a href="database-level-dashboard.html#visit-tab-1"><i class="fa fa-check"></i>Visit Tab</a></li>
<li class="chapter" data-level="" data-path="database-level-dashboard.html"><a href="database-level-dashboard.html#concept-browser-tab-1"><i class="fa fa-check"></i>Concept Browser Tab</a></li>
<li class="chapter" data-level="" data-path="database-level-dashboard.html"><a href="database-level-dashboard.html#meta-data-tab"><i class="fa fa-check"></i>Meta Data Tab</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="materialized-views-1.html"><a href="materialized-views-1.html"><i class="fa fa-check"></i><b>9.3</b> Materialized views</a>
<ul>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#meta_data_table"><i class="fa fa-check"></i>meta_data_table</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#patients_per_country_and_database_type"><i class="fa fa-check"></i>patients_per_country_and_database_type</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#number_of_patients"><i class="fa fa-check"></i>number_of_patients</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#gender"><i class="fa fa-check"></i>gender</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#age1observation_table"><i class="fa fa-check"></i>age1observation_table</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#age1observation_bar_chart"><i class="fa fa-check"></i>age1observation_bar_chart</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#distribution_of_age_at_first_observation_period"><i class="fa fa-check"></i>distribution_of_age_at_first_observation_period</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#year_of_birth"><i class="fa fa-check"></i>year_of_birth</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#avg_num_of_records_per_person"><i class="fa fa-check"></i>avg_num_of_records_per_person</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#data_domain_total_num_of_records"><i class="fa fa-check"></i>data_domain_total_num_of_records</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#number_of_distinct_per_person"><i class="fa fa-check"></i>number_of_distinct_per_person</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#data_provenance"><i class="fa fa-check"></i>data_provenance</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#num_of_patients_in_observation_period"><i class="fa fa-check"></i>num_of_patients_in_observation_period</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#cumulative_observation_time"><i class="fa fa-check"></i>cumulative_observation_time</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#number_of_observation_periods"><i class="fa fa-check"></i>number_of_observation_periods</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#length_of_observation_of_first_observation_period"><i class="fa fa-check"></i>length_of_observation_of_first_observation_period</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#visit_type_bar_chart"><i class="fa fa-check"></i>visit_type_bar_chart</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#visit_type_table"><i class="fa fa-check"></i>visit_type_table</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#domain_filter"><i class="fa fa-check"></i>domain_filter</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#concept_browser_table3"><i class="fa fa-check"></i>concept_browser_table3</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#concept_coverage2"><i class="fa fa-check"></i>concept_coverage2</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#data_density"><i class="fa fa-check"></i>data_density</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#records_per_person"><i class="fa fa-check"></i>records_per_person</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#visit_age_distribution"><i class="fa fa-check"></i>visit_age_distribution</a></li>
<li class="chapter" data-level="" data-path="materialized-views-1.html"><a href="materialized-views-1.html#concept_browser_table2"><i class="fa fa-check"></i>concept_browser_table2</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="general-deprecated.html"><a href="general-deprecated.html"><i class="fa fa-check"></i><b>9.4</b> General [Deprecated]</a>
<ul>
<li class="chapter" data-level="" data-path="general-deprecated.html"><a href="general-deprecated.html#css-2"><i class="fa fa-check"></i>CSS</a></li>
<li class="chapter" data-level="" data-path="general-deprecated.html"><a href="general-deprecated.html#database-type-and-country-filter"><i class="fa fa-check"></i>Database Type and Country Filter</a></li>
<li class="chapter" data-level="" data-path="general-deprecated.html"><a href="general-deprecated.html#total-number-of-patients"><i class="fa fa-check"></i>Total Number of Patients</a></li>
<li class="chapter" data-level="" data-path="general-deprecated.html"><a href="general-deprecated.html#network-growth-by-date"><i class="fa fa-check"></i>Network Growth by Date</a></li>
<li class="chapter" data-level="" data-path="general-deprecated.html"><a href="general-deprecated.html#patients-per-country"><i class="fa fa-check"></i>Patients per Country</a></li>
<li class="chapter" data-level="" data-path="general-deprecated.html"><a href="general-deprecated.html#database-types-per-country-1"><i class="fa fa-check"></i>Database Types per Country</a></li>
<li class="chapter" data-level="" data-path="general-deprecated.html"><a href="general-deprecated.html#world-map"><i class="fa fa-check"></i>World Map</a></li>
<li class="chapter" data-level="" data-path="general-deprecated.html"><a href="general-deprecated.html#metaDataTable"><i class="fa fa-check"></i>Meta Data</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="person-deprecated.html"><a href="person-deprecated.html"><i class="fa fa-check"></i><b>9.5</b> Person [Deprecated]</a>
<ul>
<li class="chapter" data-level="" data-path="person-deprecated.html"><a href="person-deprecated.html#label-colors-2"><i class="fa fa-check"></i>Label Colors</a></li>
<li class="chapter" data-level="" data-path="person-deprecated.html"><a href="person-deprecated.html#css-3"><i class="fa fa-check"></i>CSS</a></li>
<li class="chapter" data-level="" data-path="person-deprecated.html"><a href="person-deprecated.html#data-source-filter-1"><i class="fa fa-check"></i>Data Source Filter</a></li>
<li class="chapter" data-level="" data-path="person-deprecated.html"><a href="person-deprecated.html#age-at-first-observation---table-age1observationtable"><i class="fa fa-check"></i>Age at first observation - Table {#age1ObservationTable}</a></li>
<li class="chapter" data-level="" data-path="person-deprecated.html"><a href="person-deprecated.html#age-at-first-observation---bars-age1observationbars"><i class="fa fa-check"></i>Age at first observation - Bars {#age1ObservationBars}</a></li>
<li class="chapter" data-level="" data-path="person-deprecated.html"><a href="person-deprecated.html#year-of-birth-yearofbirth"><i class="fa fa-check"></i>Year of Birth {#yearOfBirth}</a></li>
<li class="chapter" data-level="" data-path="person-deprecated.html"><a href="person-deprecated.html#gender-1"><i class="fa fa-check"></i>Gender</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="observation-period-deprecated.html"><a href="observation-period-deprecated.html"><i class="fa fa-check"></i><b>9.6</b> Observation Period [Deprecated]</a>
<ul>
<li class="chapter" data-level="" data-path="observation-period-deprecated.html"><a href="observation-period-deprecated.html#css-4"><i class="fa fa-check"></i>CSS</a></li>
<li class="chapter" data-level="" data-path="observation-period-deprecated.html"><a href="observation-period-deprecated.html#data-source-filter-2"><i class="fa fa-check"></i>Data Source Filter</a></li>
<li class="chapter" data-level="" data-path="observation-period-deprecated.html"><a href="observation-period-deprecated.html#numInObservationPeriod"><i class="fa fa-check"></i>Number of Patients in Observation Period</a></li>
<li class="chapter" data-level="" data-path="observation-period-deprecated.html"><a href="observation-period-deprecated.html#observation-period-start-dates"><i class="fa fa-check"></i>Observation Period Start Dates</a></li>
<li class="chapter" data-level="" data-path="observation-period-deprecated.html"><a href="observation-period-deprecated.html#observation-period-end-dates"><i class="fa fa-check"></i>Observation Period End Dates</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="visit-deprecated.html"><a href="visit-deprecated.html"><i class="fa fa-check"></i><b>9.7</b> Visit [Deprecated]</a>
<ul>
<li class="chapter" data-level="" data-path="visit-deprecated.html"><a href="visit-deprecated.html#css-5"><i class="fa fa-check"></i>CSS</a></li>
<li class="chapter" data-level="" data-path="visit-deprecated.html"><a href="visit-deprecated.html#data-source-filter-3"><i class="fa fa-check"></i>Data Source Filter</a></li>
<li class="chapter" data-level="" data-path="visit-deprecated.html"><a href="visit-deprecated.html#visitTypeTable"><i class="fa fa-check"></i>Visit Type Table</a></li>
<li class="chapter" data-level="" data-path="visit-deprecated.html"><a href="visit-deprecated.html#visit-types-bars"><i class="fa fa-check"></i>Visit Types Bars</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="death-deprecated.html"><a href="death-deprecated.html"><i class="fa fa-check"></i><b>9.8</b> Death [Deprecated]</a>
<ul>
<li class="chapter" data-level="" data-path="death-deprecated.html"><a href="death-deprecated.html#css-6"><i class="fa fa-check"></i>CSS</a></li>
<li class="chapter" data-level="" data-path="death-deprecated.html"><a href="death-deprecated.html#data-source-filter-4"><i class="fa fa-check"></i>Data Source Filter</a></li>
<li class="chapter" data-level="" data-path="death-deprecated.html"><a href="death-deprecated.html#number-of-records"><i class="fa fa-check"></i>Number of Records</a></li>
<li class="chapter" data-level="" data-path="death-deprecated.html"><a href="death-deprecated.html#death-by-year-per-thousand-people"><i class="fa fa-check"></i>Death By Year per Thousand People</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="concepts-browser-deprecated.html"><a href="concepts-browser-deprecated.html"><i class="fa fa-check"></i><b>9.9</b> Concepts Browser [Deprecated]</a>
<ul>
<li class="chapter" data-level="" data-path="concepts-browser-deprecated.html"><a href="concepts-browser-deprecated.html#css-7"><i class="fa fa-check"></i>CSS</a></li>
<li class="chapter" data-level="" data-path="concepts-browser-deprecated.html"><a href="concepts-browser-deprecated.html#data-source-and-domain-filters"><i class="fa fa-check"></i>Data Source and Domain Filters</a></li>
<li class="chapter" data-level="" data-path="concepts-browser-deprecated.html"><a href="concepts-browser-deprecated.html#number-of-concepts"><i class="fa fa-check"></i>Number of Concepts</a></li>
<li class="chapter" data-level="" data-path="concepts-browser-deprecated.html"><a href="concepts-browser-deprecated.html#concept-browser-table-conceptbrowsertable"><i class="fa fa-check"></i>Concept Browser Table {#conceptBrowserTable}</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="provenance-deprecated.html"><a href="provenance-deprecated.html"><i class="fa fa-check"></i><b>9.10</b> Provenance [Deprecated]</a>
<ul>
<li class="chapter" data-level="" data-path="provenance-deprecated.html"><a href="provenance-deprecated.html#css-8"><i class="fa fa-check"></i>CSS</a></li>
<li class="chapter" data-level="" data-path="provenance-deprecated.html"><a href="provenance-deprecated.html#data-source-filter-5"><i class="fa fa-check"></i>Data Source Filter</a></li>
<li class="chapter" data-level="" data-path="provenance-deprecated.html"><a href="provenance-deprecated.html#condition-drug-procedure-device-measurement-observation-types-dataprovenancecharts"><i class="fa fa-check"></i>Condition &amp; Drug &amp; Procedure &amp; Device &amp; Measurement &amp; Observation Types {#dataProvenanceCharts}</a></li>
</ul></li>
<li class="chapter" data-level="9.11" data-path="data-domains-deprecated.html"><a href="data-domains-deprecated.html"><i class="fa fa-check"></i><b>9.11</b> Data Domains [Deprecated]</a>
<ul>
<li class="chapter" data-level="" data-path="data-domains-deprecated.html"><a href="data-domains-deprecated.html#css-9"><i class="fa fa-check"></i>CSS</a></li>
<li class="chapter" data-level="" data-path="data-domains-deprecated.html"><a href="data-domains-deprecated.html#data-source-filter-6"><i class="fa fa-check"></i>Data Source Filter</a></li>
<li class="chapter" data-level="" data-path="data-domains-deprecated.html"><a href="data-domains-deprecated.html#avgRecordsPerPerson"><i class="fa fa-check"></i>Average Number of Records per Person</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Network Dashboards</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="development-instructions" class="section level1" number="7">
<h1><span class="header-section-number">Chapter 7</span> Development Instructions</h1>
<div id="repository-structure-description" class="section level3 unnumbered" number="">
<h3>Repository Structure Description</h3>
<ul>
<li><p><strong>backups</strong>: Scripts and configuration files to perform backups of all the data involved in the Network Dashboards applications (Dashboard viewer + Superset)</p></li>
<li><p><strong>dashboard_viewer</strong>: The Dashboard Viewer Django application to manage and upload catalogue results data. More detail can be found in the <a href="code-documentation.html">Code Documentation</a> chapter.</p></li>
<li><p><strong>demo</strong>: Files that can be used to test some processes of the platform (Upload catalogue results data and import a simple dashboard)</p></li>
<li><p><strong>docker</strong>: Docker-compose stack-related directories.</p>
<ul>
<li>Environment file</li>
<li>Configuration directories (Nginx and Postgres)</li>
<li>Custom Superest Dockerfile <!-- TODO link to the subsection on the Superset section --></li>
</ul>
<p>For more information about docker deployment consult the <a href="installation.html">Installation</a> chapter.</p></li>
<li><p><strong>docs</strong>: Where the files of this gitbook are hosted. Other output formats can also be obtained here. Consult the <a href="development-instructions.html#documentation">Documentation</a> section of this chapter for more details.</p></li>
<li><p><strong>superset</strong>: contains a submodule to the latest supported version of Superset’s repository and our custom chart plugins</p></li>
<li><p><strong>tests</strong>: contains files to launch a docker-compose stack specific to run tests.</p></li>
<li><p><strong>requirements-dev</strong>: python requirements files to the several tools to either perform code style checks or to run Django tests</p></li>
<li><p><strong>.pre-commit-config.yaml</strong>: configuration for the <a href="https://pre-commit.com/">pre-commit</a> tool. This is not mandatory to use but is a good tool to automatically fix problems related to code style on staged files</p></li>
<li><p><strong>setup.cfg</strong>: configurations for the several code style tools</p></li>
<li><p><strong>tox.ini</strong>: configuration for the <a href="https://tox.readthedocs.io/">tox</a> tool. It helps automate the process to check if the code style is correct and if the Django tests are passing</p>
<p>It’s extremely useful in this context since different code style check tools that we use have some conflicts with python dependencies. It creates a virtual environment for each tox environment, in our case, for each code style check tool plus Django tests</p></li>
</ul>
</div>
<div id="superset" class="section level3 unnumbered" number="">
<h3>Superset</h3>
<p>Currently, we have made some modifications to the box plot visualization on our superset installation which doesn’t allow us to use superset’s pre-built images available on their docker hub, since we have to call npm’s build procedures on the front-end code.
To build our custom docker image we used superset’s <a href="https://github.com/apache/superset/blob/1.5.0/Dockerfile">Dockerfile</a> as a base, where we removed the Dev section and added some code to install our chart plugins before building the front-end code.</p>
<p>The changes made to the Dockerfile to install the chart plugins are in <a href="https://github.com/EHDEN/NetworkDashboards/blob/master/docker/superset/Dockerfile#L47-L49">this</a> area:</p>
<ol style="list-style-type: decimal">
<li>L46: Repalce some boxplot fiels with ours;</li>
<li>L47: Superset’s original version of the controlPanel.ts file is a <code>.ts</code> versions however ours is a <code>.tsx</code>. For that, we have to remove the <code>.ts</code> version to properly override this file.</li>
</ol>
<div id="update-superset" class="section level4 unnumbered" number="">
<h4>Update Superset</h4>
<ol style="list-style-type: decimal">
<li><p><code>cd</code> into superset’s submodule directory.</p></li>
<li><p>Get the latest tags: <code>git fetch -t</code>.</p></li>
<li><p>Checkout to the new desired release tag.</p></li>
<li><p>Check if there are any changes made to superset’s Dockerfile (on the root of the repository for the current latest release), adapt them, and insert them on our custom Dockerfile under the <code>docker/superset</code> directory.</p></li>
<li><p>If the version of the plugin package <code>plugin-chart-echarts</code> changed, it’s necessary to update our box plot plugin. If it is greater than 0.18.25, go to the history (<code>https://github.com/apache/superset/commits/[RELEASE-TAG]/superset-frontend/plugins/plugin-chart-echarts</code>) of commits done to the plugin-chart-echarts plugin update to the most recent commit, applying their changes to the files in the <code>superset/box-plot-overrides</code> directory. A fast way check the changes done between two commits: <code>git diff [old_commit_hash] [recent_commit_hash] -- superset-frontend/plugins/plugin-chart-echarts</code></p></li>
</ol>
</div>
<div id="chart-plugin-development" class="section level4 unnumbered" number="">
<h4>Chart Plugin Development</h4>
<ol style="list-style-type: decimal">
<li><p>Follow the instructions of <a href="https://superset.apache.org/docs/contributing/creating-viz-plugins">this tutorial</a> to create the necessary base files of your plugin.</p></li>
<li><p>To deploy you can either use the <code>DYNAMIC_PLUGINS</code> feature flag or you can add and build your plugins in <code>superset/Dockerfile</code>.</p></li>
</ol>
</div>
<div id="important-features" class="section level4 unnumbered" number="">
<h4>Important features</h4>
<ol style="list-style-type: decimal">
<li><p>Standalone Mode: by appending <code>?standalone=true</code> to the URL of a dashboard superset’s menu bar won’t show.
New versions support <code>?standalone=1</code> or <code>?standalone=2</code> where the first does the same as <code>?standalone=true</code> and the second also hides the bar containing the name of the dashboard, leaving just the charts.</p></li>
<li><p>Filters:</p></li>
</ol>
<ul>
<li>check <a href="https://superset.apache.org/docs/frequently-asked-questions#how-to-add-dynamic-filters-to-a-dashboard">this</a> faq entry</li>
<li>Append <code>?preselect_filters={"chartId":{"columnToFilterBy":["value1", "value2"]}}</code> to the dashboard URL to apply a filter once the dashboard is loaded. E.g. <code>?preselect_filters={"13":{"name":["Demo University of Aveiro"]}}</code></li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Custom label colors: check <a href="https://superset.apache.org/docs/frequently-asked-questions#is-there-a-way-to-force-the-use-specific-colors">this</a> faq entry</li>
</ol>
</div>
</div>
<div id="github-actions" class="section level3 unnumbered" number="">
<h3>Github Actions</h3>
<p>Github has a feature that allows performing automatic actions after a certain event happens on the repository.
We use this feature to execute to check if everything is alright with new PR before merging them to dev.</p>
<p>Github calls a job a set of steps that are executed after a certain event.
Then several jobs can be groups in workflows.
Events are defined at the workflow level, so all the jobs in a workflow will execute at the same time.</p>
<p>We have two workflows:</p>
<ol style="list-style-type: decimal">
<li>Code analysis checks</li>
<li>Django tests</li>
</ol>
<p>The first has three jobs</p>
<ol style="list-style-type: decimal">
<li><a href="https://github.com/psf/black">black</a>: ensures that python’s code format is consistent throughout the project</li>
<li><a href="https://github.com/PyCQA/isort">isort</a>: sorts and organizes import statements</li>
<li><a href="https://github.com/PyCQA/prospector">prospector</a>: executes a set of tools that perform some code analysis</li>
</ol>
<p>The second has just one job that executes the Django tests.</p>
<p>Both workflows execute on commits of pull requests that will be merged into the dev branch.</p>
<p>Regarding the code analysis workflow, the three tools used have requirements that conflict with each other, for that there is a requirements file for each tool on the <code>requirement-dev</code> directory of the repository.
To avoid having three different virtual environments for each tool, you can use the <a href="https://tox.readthedocs.io/">tox</a>.
You just need to install the development requirements (<code>pip install -r requirements-dev/requirements-dev.txt</code>) and then just run <code>tox</code>.
It will manage the necessary virtual environments and install the requirements for each tool.
If you, however, want to run a specific tool manually you can check the tox configuration file (<a href="https://github.com/EHDEN/NetworkDashboards/blob/master/tox.ini">tox.ini</a>).
For example for the prospector tool the tox configuration is the following:</p>
<pre><code>[testenv:prospector]
basepython = python3.8
deps =
    -r{toxinidir}/requirements-dev/requirements-prospector.txt
    -r{toxinidir}/dashboard_viewer/requirements.txt
commands =
    prospector dashboard_viewer
    prospector docker/superset</code></pre>
<p>we can see that it installs the requirement for the prospector tool and also the requirements of the Dashboard Viewer Django app and then runs two commands.</p>
<p>For both black and isort tools, when you run tox, it will show the necessary changes that are required to make the code good.
You can apply the changes automatically by executing the tools manually without the <code>--check</code> and <code>--check-only</code> options respectively.</p>
<p>Sometimes prospector can be a pain in the boot, complaining about too much stuff.
You can make prospector ignore some bad stuff by adding the comment, <code># noqa</code>, to the end of the specific line where it is complaining.</p>
<p>To run only a single tool with tox you have to set the <code>TOX_ENV</code> enviroment variable. For example, to run just black with tox you can run <code>TOX_ENV=black tox</code>.</p>
</div>
<div id="tests" class="section level3 unnumbered" number="">
<h3>Tests</h3>
<p>Our tests use Django’s building testing features, which uses unittest under the hood.
Not all featured have tests associated, however, there are already <a href="https://github.com/EHDEN/NetworkDashboards/issues?q=is%3Aissue+is%3Aopen+label%3A%22Test+Use+Case%22">some tests scenarios</a> in mind written as issues on the repository, which have the tag <strong>Test Use Case</strong>.</p>
<p>To run the tests we set up a docker-compose stack, under the <a href="https://github.com/EHDEN/NetworkDashboards/tree/master/tests">test</a> directory which has just the necessary data containers (Redis and Postgres) with open ports and with no volumes, to avoid having to make changes on the development/production docker-compose stack to run the tests.
Once the stack is up it only necessary to run <code>python manage.py test</code> to execute the tests.
If you are developing any tests that involve <a href="https://github.com/celery/celery">celery</a>, there is no need to have a celery process running, since on Django’s settings.py we <a href="https://github.com/EHDEN/NetworkDashboards/blob/master/dashboard_viewer/dashboard_viewer/settings.py#L316">set the test runner</a> to the celery one.
This way the <code>python manage.py test</code> is enough to test the whole application.</p>
<p>tox is an alternative and a good way to run all test commands without having to install the test requirements for each test case (code style checks, unit tests, …). tox will create a tox environment, install the necessary dependencies run the test command.</p>
<p>tox and its dependencies are in the file <code>requirements-dev/requirements-dev.txt</code>. After installing them you just need to execute <code>TOX_ENV=tests tox</code> or <code>TOX_ENV=tests-third-party tox</code> to run all the test cases.</p>
</div>
<div id="python-requirements" class="section level3 unnumbered" number="">
<h3>Python Requirements</h3>
<p>The python requirements for the Dashboard Viewer Django app are present on the <code>requirements.txt</code> file of the <code>dashboard_viewer</code> directory.
The file is divided into two sections.
First are the direct dependencies.
Dependencies that are directly used or imported by the Dashboard Viewer Django app.
For better maintainability, every direct dependency has a small description in front of it, so any developer knows why it is being mentioned in the requirements file.
The second part of the file contains the indirect dependencies.
Basically dependencies of our direct dependencies.</p>
<p>After any update is made to the direct dependencies the following procedure should be followed:</p>
<ol style="list-style-type: decimal">
<li>Create a new virtual environment just for the dependencies of this file</li>
<li>Delete the indirect dependencies section of the file</li>
<li>Install all the direct dependencies <code>pip install -r requirements.txt</code></li>
<li>Append the result of pip’s freeze to the requirements file <code>pip freeze &gt;&gt; requirements.txt</code></li>
<li>Remove from the second section of the file, duplicated entries of the first section of the file, in other words, remove from the indirect dependencies section the direct dependencies.</li>
</ol>
<p>With <a href="https://github.com/EHDEN/NetworkDashboards/pull/185">#185</a> we intend to start using the <a href="https://github.com/jazzband/pip-tools">pip-compile</a> tool.
With it, we can have a file with the direct dependencies (requirements.in), and then pip-compile reads that file and automatically creates a requirements.txt file with all the dependencies and which package requires that specific dependency.
The update process of dependencies will then just be</p>
<ol style="list-style-type: decimal">
<li>Install the pip-compile tool <code>pip install pip-tools</code></li>
<li>Make the change to the direct dependencies on the requirements.in file (No need for a virtual environment)</li>
<li>Call the pip-compile tool on the requirement.in file <code>pip-compile requirements.in</code></li>
</ol>
</div>
<div id="documentation" class="section level3 unnumbered" number="">
<h3>Documentation</h3>
<p>The plan is to have all the documentation on this git book and any other places that might require some description/information should point to this GitBook so we maintain a commonplace for all the documentation.
This way we can make sure that the code and the documentation are in the same place since on a pull request for a specific feature or a bug fix, associated documentation should also be changed with it.</p>
<p>The manual was written in <a href="https://rmarkdown.rstudio.com">RMarkdown</a> using the <a href="https://bookdown.org">bookdown</a> package.
All the code is stored in the <code>docs/src</code> directory as well as the script to build all the documentation.
<strong>Do not change</strong> the files in the root of the <code>docs</code> directory, because those files will be removed during the build processed and replaced by the new ones.
Therefore, to update this documentation, apply the changes to the files in the directory <code>docs/src</code>.
To build the documentation, you need to have <a href="https://www.r-project.org/">R</a> installed, and if you are using UNIX-based systems, you only need to run <code>sh _build.sh</code> in the <code>docs/src</code> directory.</p>
<p>In this documentation, we also describe all the settings around the dashboards that are used on the EHDEN project.
To avoid an extensive table of contents and also to avoid having a big chapter page for dashboards, we <a href="https://github.com/EHDEN/NetworkDashboards/blob/master/docs/src/_output.yml#L9">configured</a> this GitBook to split different sections into different pages.
A section on the GitBook is mapped to markdown headings elements of level 2 (H2 or ##).
This is, however, inconvenient for small chapters like the preface (index.Rmd).
To make it render all the sections on the same page, instead of using headings of level 2 (##) you should use level 3 (###).
Although this will make the section numeration start at 0, e.g 1.0.1, 1.0.2, …
To avoid this we appended <code>{-}</code> to the sections titles so that the numeration does not show.</p>
<p>If a new file is created with more documentation, its name should be placed, including extension, in the desired location in <a href="https://github.com/EHDEN/NetworkDashboards/blob/master/docs/src/_bookdown.yml#L26-L45">this list</a> of the <code>docks/src/_bookdown.yml</code> file.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="customizations.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="code-documentation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/EHDEN/NetworkDashboards/edit/master/development.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["DataNetworkDashboards.pdf", "DataNetworkDashboards.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
